<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Data Visualization">
    <meta name="keywords" content="HTML, CSS, D3">
    <meta name="author" content="Arlene">
    <title>Task 2.3 D3 Scatter Plot</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <h1>The D3 Journey starts here...</h1>
    <h2>Drawing with Data - Scatter Plot</h2>

    <script>
        // Step 1: Start with the code from Task 2.2
        var w = 500;
        var h = 300;
        
        // Step 2: Change the data set for scatter plot
        // Format: Each inner array is [x, y] coordinates plus an optional radius value
        var dataset = [
            [5, 20, 5],
            [480, 90, 10],
            [250, 50, 7],
            [100, 33, 8],
            [330, 95, 12],
            [410, 12, 5],
            [475, 44, 9],
            [25, 67, 7],
            [85, 21, 6],
            [220, 88, 10]
        ];
        
        // Create an SVG element
        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", w)
                    .attr("height", h);
        
        // Step 3: Change from rectangles to circles
        svg.selectAll("circle")
           .data(dataset)
           .enter()
           .append("circle")
           .attr("cx", function(d) {
               // Use the x value from the data point
               return d[0];
           })
           .attr("cy", function(d) {
               // Use the y value from the data point
               return d[1];
           })
           .attr("r", function(d) {
               // Optional: Use the third value as radius if available
               return d[2] || 5; // Default to 5 if no radius specified
           })
           .attr("fill", "black");
        
        // Step 4: Add labels to the Scatter Plot
        svg.selectAll("text")
           .data(dataset)
           .enter()
           .append("text")
           .text(function(d) {
               // Display the x and y values of each data point
               return d[0] + "," + d[1];
           })
           .attr("x", function(d) {
               // Position the text to the right of the circle
               return d[0] + 10;
           })
           .attr("y", function(d) {
               // Align text with the center of the circle
               return d[1] + 4;
           });
        
        // Make certain data points red based on criteria
        svg.selectAll("circle")
           .attr("fill", function(d) {
               // Make points with y values > 80 red
               if (d[1] > 80) {
                   return "red";
               } else {
                   return "black";
               }
           });
    </script>
</body>
</html>